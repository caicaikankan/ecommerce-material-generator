<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”µå•†å•†å“ç´ æè‡ªåŠ¨ç”Ÿæˆå·¥å…·</title>
    <!-- æœ¬åœ°æ‰“å¼€è¯´æ˜ï¼šç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ­¤HTMLæ–‡ä»¶å³å¯ä½¿ç”¨ï¼Œæ— éœ€æœ¬åœ°æœåŠ¡å™¨ -->
    <!-- å¼•å…¥Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥Font Awesomeå›¾æ ‡ -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        // Tailwindé…ç½®
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563EB', // ä¸»è“è‰²
                        secondary: '#6366F1', // è¾…åŠ©ç´«è‰²
                        accent: '#F59E0B', // å¼ºè°ƒæ©™è‰²
                        success: '#10B981', // æˆåŠŸç»¿è‰²
                        danger: '#EF4444', // å±é™©çº¢è‰²
                        light: '#F8FAFC', // æµ…ç°è‰²èƒŒæ™¯
                        dark: '#1E293B', // æ·±è‰²æ–‡å­—
                        'gray-light': '#F1F5F9',
                        'gray-medium': '#CBD5E1',
                        'gray-dark': '#64748B',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    boxShadow: {
                        'soft': '0 2px 15px rgba(0, 0, 0, 0.05)',
                        'hover': '0 8px 25px rgba(0, 0, 0, 0.1)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-up': 'slideUp 0.4s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .text-shadow-lg {
                text-shadow: 0 4px 8px rgba(0,0,0,0.2);
            }
            .watermark {
                position: relative;
            }
            .watermark::after {
                content: "è‰ç¨¿ç‰ˆ";
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) rotate(-30deg);
                font-size: 3rem;
                font-weight: 800;
                color: rgba(0,0,0,0.08);
                pointer-events: none;
                letter-spacing: 2px;
            }
            .glass-effect {
                background: rgba(255, 255, 255, 0.8);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
            }
            .input-focus {
                @apply focus:ring-2 focus:ring-primary/50 focus:border-primary focus:outline-none transition-all duration-300;
            }
            .btn-hover {
                @apply transition-all duration-300 hover:shadow-md transform hover:-translate-y-0.5;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-light to-gray-light min-h-screen font-sans text-dark">
    <!-- é¡µé¢å®¹å™¨ -->
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- é¡µé¢æ ‡é¢˜ -->
        <header class="mb-10 text-center animate-fade-in">
            <div class="inline-block bg-primary/10 px-6 py-3 rounded-full mb-4">
                <i class="fa fa-magic text-primary text-2xl"></i>
            </div>
            <h1 class="text-[clamp(1.8rem,4vw,3rem)] font-bold text-primary mb-3 text-shadow">ç”µå•†å•†å“ç´ æè‡ªåŠ¨ç”Ÿæˆå·¥å…·</h1>
            <p class="text-gray-dark max-w-2xl mx-auto">å¸®åŠ©è¿è¥äººå‘˜å¿«é€Ÿç”Ÿæˆå•†å“ä¸»å›¾è‰ç¨¿å’Œé…å¥—æ–‡æ¡ˆï¼Œæå‡å·¥ä½œæ•ˆç‡</p>
        </header>

        <!-- ä¸»è¦å†…å®¹åŒº -->
        <main class="flex flex-col lg:flex-row gap-6 lg:gap-8">
            <!-- å·¦ä¾§ï¼šå•†å“ä¿¡æ¯å½•å…¥åŒº -->
            <section class="w-full lg:w-2/5 bg-white rounded-2xl shadow-soft p-6 lg:p-8 transition-all duration-300 hover:shadow-hover animate-slide-up">
                <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100">
                    <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center">
                        <i class="fa fa-pencil text-primary"></i>
                    </div>
                    <h2 class="text-xl font-semibold">å•†å“ä¿¡æ¯å½•å…¥</h2>
                </div>
                
                <form id="productForm" class="space-y-6">
                    <!-- å•†å“åç§° -->
                    <div>
                        <label for="productName" class="block text-sm font-medium text-gray-700 mb-2">å•†å“åç§° <span class="text-danger font-medium">*</span></label>
                        <input 
                            type="text" 
                            id="productName" 
                            class="w-full px-4 py-3 border border-gray-200 rounded-xl input-focus bg-gray-50"
                            placeholder="è¯·è¾“å…¥å•†å“å…¨ç§°ï¼Œå¦‚XXå“ç‰Œæ— çº¿è“ç‰™è€³æœº"
                            required
                        >
                    </div>

                    <!-- å•†å“å–ç‚¹ -->
                    <div>
                        <label for="productSellingPoints" class="block text-sm font-medium text-gray-700 mb-2">å•†å“å–ç‚¹ <span class="text-danger font-medium">*</span></label>
                        <textarea 
                            id="productSellingPoints" 
                            rows="4" 
                            class="w-full px-4 py-3 border border-gray-200 rounded-xl input-focus bg-gray-50"
                            placeholder="è¯·è¾“å…¥å•†å“æ ¸å¿ƒå–ç‚¹ï¼Œå¤šä¸ªå–ç‚¹ç”¨é€—å·åˆ†éš”"
                            required
                        ></textarea>
                    </div>

                    <!-- ä»·æ ¼ä¿¡æ¯ -->
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="originalPrice" class="block text-sm font-medium text-gray-700 mb-2">åŸä»·</label>
                            <div class="relative">
                                <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-medium">Â¥</span>
                                <input 
                                    type="number" 
                                    id="originalPrice" 
                                    min="0" 
                                    step="0.01" 
                                    class="w-full px-10 py-3 border border-gray-200 rounded-xl input-focus bg-gray-50"
                                    placeholder="0.00"
                                >
                            </div>
                        </div>
                        <div>
                            <label for="discountPrice" class="block text-sm font-medium text-gray-700 mb-2">ä¼˜æƒ ä»·</label>
                            <div class="relative">
                                <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-medium">Â¥</span>
                                <input 
                                    type="number" 
                                    id="discountPrice" 
                                    min="0" 
                                    step="0.01" 
                                    class="w-full px-10 py-3 border border-gray-200 rounded-xl input-focus bg-gray-50"
                                    placeholder="0.00"
                                >
                            </div>
                        </div>
                    </div>

                    <!-- å›¾ç‰‡ä¸Šä¼  -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">å›¾ç‰‡ä¸Šä¼  <span class="text-danger font-medium">*</span></label>
                        <div class="flex flex-wrap gap-4 mb-3">
                            <div id="imagePreviews" class="flex flex-wrap gap-4"></div>
                            <div 
                                id="uploadArea" 
                                class="w-28 h-28 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition-all duration-300 hover:border-primary"
                            >
                                <input 
                                    type="file" 
                                    id="imageUpload" 
                                    accept="image/jpeg,image/png" 
                                    multiple 
                                    class="hidden"
                                    onchange="handleImageUpload(event)"
                                >
                                <i class="fa fa-cloud-upload text-gray-400 text-2xl mb-2"></i>
                                <span class="text-xs text-gray-500">ç‚¹å‡»ä¸Šä¼ </span>
                                <span class="text-xs text-gray-400 mt-1">1-3å¼ </span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-500">æ”¯æŒJPG/PNGæ ¼å¼ï¼Œå»ºè®®å°ºå¯¸800*800px</p>
                    </div>

                    <!-- é£æ ¼é€‰æ‹© -->
                    <div>
                        <label for="styleSelect" class="block text-sm font-medium text-gray-700 mb-2">é£æ ¼é€‰æ‹©</label>
                        <select 
                            id="styleSelect" 
                            class="w-full px-4 py-3 border border-gray-200 rounded-xl input-focus bg-gray-50 appearance-none"
                        >
                            <option value="simple">ç®€çº¦é£</option>
                            <option value="promotion">ä¿ƒé”€é£</option>
                            <option value="artistic">æ–‡è‰ºé£</option>
                            <option value="tech">ç§‘æŠ€é£</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500">
                            <i class="fa fa-chevron-down"></i>
                        </div>
                    </div>

                    <!-- æ“ä½œæŒ‰é’® -->
                    <div class="flex gap-4 pt-6">
                        <button 
                            type="button" 
                            id="generateBtn" 
                            class="flex-1 bg-primary hover:bg-primary/90 text-white font-medium py-3 px-6 rounded-xl btn-hover flex items-center justify-center"
                        >
                            <span id="generateBtnText">ä¸€é”®ç”Ÿæˆç´ æ</span>
                            <span id="loadingSpinner" class="ml-3 hidden">
                                <i class="fa fa-spinner fa-spin"></i>
                            </span>
                        </button>
                        <button 
                            type="button" 
                            id="clearBtn" 
                            class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 px-6 rounded-xl btn-hover"
                        >
                            æ¸…ç©ºè¾“å…¥
                        </button>
                    </div>
                </form>
            </section>

            <!-- å³ä¾§ï¼šç´ æé¢„è§ˆåŒº -->
            <section class="w-full lg:w-3/5 bg-white rounded-2xl shadow-soft p-6 lg:p-8 transition-all duration-300 hover:shadow-hover animate-slide-up" style="animation-delay: 0.1s;">
                <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100">
                    <div class="w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center">
                        <i class="fa fa-eye text-secondary"></i>
                    </div>
                    <h2 class="text-xl font-semibold">ç´ æé¢„è§ˆ</h2>
                </div>
                
                <!-- ä¸»å›¾é¢„è§ˆ -->
                <div class="mb-10">
                    <h3 class="text-lg font-medium mb-5 flex items-center gap-2">
                        <i class="fa fa-picture-o text-secondary"></i>
                        ä¸»å›¾é¢„è§ˆ
                    </h3>
                    <div id="imagePreviewContainer" class="overflow-x-auto pb-6">
                        <div class="flex gap-6 min-w-max">
                            <!-- ä¸»å›¾é¢„è§ˆå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                            <div class="text-center text-gray-500 py-16 bg-gray-50 rounded-xl px-8">
                                <i class="fa fa-image text-5xl mb-4 text-gray-300"></i>
                                <p class="text-gray-400">ç‚¹å‡»"ä¸€é”®ç”Ÿæˆç´ æ"æŸ¥çœ‹é¢„è§ˆ</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ–‡æ¡ˆé¢„è§ˆ -->
                <div>
                    <h3 class="text-lg font-medium mb-5 flex items-center gap-2">
                        <i class="fa fa-file-text-o text-secondary"></i>
                        æ–‡æ¡ˆé¢„è§ˆ
                    </h3>
                    <div id="copySuccessAlert" class="bg-success/10 border border-success/20 text-success px-4 py-3 rounded-lg mb-4 hidden flex items-center gap-2 animate-fade-in">
                        <i class="fa fa-check-circle"></i>
                        <span>æ–‡æ¡ˆå·²æˆåŠŸå¤åˆ¶åˆ°å‰ªè´´æ¿</span>
                    </div>
                    <div id="copywritingPreview" class="space-y-6">
                        <!-- æ–‡æ¡ˆé¢„è§ˆå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        <div class="text-center text-gray-500 py-16 bg-gray-50 rounded-xl px-8">
                            <i class="fa fa-file-text text-5xl mb-4 text-gray-300"></i>
                            <p class="text-gray-400">ç‚¹å‡»"ä¸€é”®ç”Ÿæˆç´ æ"æŸ¥çœ‹é¢„è§ˆ</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- å›¾ç‰‡æ”¾å¤§é¢„è§ˆæ¨¡æ€æ¡† -->
    <div id="imageModal" class="fixed inset-0 bg-black/90 flex items-center justify-center z-50 hidden animate-fade-in">
        <div class="relative max-w-5xl max-h-[90vh]">
            <img id="modalImage" src="" alt="æ”¾å¤§é¢„è§ˆ" class="max-w-full max-h-[90vh] rounded-xl shadow-2xl">
            <button id="closeModal" class="absolute top-4 right-4 bg-black/40 hover:bg-black/60 text-white rounded-full w-12 h-12 flex items-center justify-center transition-all duration-300 transform hover:scale-110">
                <i class="fa fa-times text-xl"></i>
            </button>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let uploadedImages = [];

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // ç»‘å®šæŒ‰é’®äº‹ä»¶
            document.getElementById('generateBtn').addEventListener('click', generateMaterials);
            document.getElementById('clearBtn').addEventListener('click', clearForm);
            document.getElementById('closeModal').addEventListener('click', closeModal);
            document.getElementById('uploadArea').addEventListener('click', function() {
                document.getElementById('imageUpload').click();
            });
            
            // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­æ¨¡æ€æ¡†
            document.getElementById('imageModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });
        });

        // å¤„ç†å›¾ç‰‡ä¸Šä¼ 
        function handleImageUpload(event) {
            const files = event.target.files;
            
            // æ£€æŸ¥æ–‡ä»¶æ•°é‡
            if (uploadedImages.length + files.length > 3) {
                alert('æœ€å¤šåªèƒ½ä¸Šä¼ 3å¼ å›¾ç‰‡');
                return;
            }
            
            // å¤„ç†æ¯ä¸ªæ–‡ä»¶
            Array.from(files).forEach(file => {
                if (file.type === 'image/jpeg' || file.type === 'image/png') {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        uploadedImages.push(e.target.result);
                        updateImagePreviews();
                    };
                    reader.readAsDataURL(file);
                } else {
                    alert('åªæ”¯æŒJPG/PNGæ ¼å¼çš„å›¾ç‰‡');
                }
            });
            
            // é‡ç½®æ–‡ä»¶è¾“å…¥ï¼Œä»¥ä¾¿å¯ä»¥é‡å¤ä¸Šä¼ ç›¸åŒçš„æ–‡ä»¶
            event.target.value = '';
        }

        // æ›´æ–°å›¾ç‰‡é¢„è§ˆ
        function updateImagePreviews() {
            const previewsContainer = document.getElementById('imagePreviews');
            previewsContainer.innerHTML = '';
            
            uploadedImages.forEach((image, index) => {
                const previewDiv = document.createElement('div');
                previewDiv.className = 'relative w-24 h-24 rounded-lg overflow-hidden border border-gray-200';
                
                const img = document.createElement('img');
                img.src = image;
                img.className = 'w-full h-full object-cover';
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'absolute top-1 right-1 bg-black/50 hover:bg-black/70 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs transition duration-200';
                deleteBtn.innerHTML = '<i class="fa fa-times"></i>';
                deleteBtn.onclick = function() {
                    uploadedImages.splice(index, 1);
                    updateImagePreviews();
                };
                
                previewDiv.appendChild(img);
                previewDiv.appendChild(deleteBtn);
                previewsContainer.appendChild(previewDiv);
            });
        }

        // ç”Ÿæˆç´ æ
        function generateMaterials() {
            // è·å–è¡¨å•æ•°æ®
            const productName = document.getElementById('productName').value.trim();
            const productSellingPoints = document.getElementById('productSellingPoints').value.trim();
            const originalPrice = document.getElementById('originalPrice').value;
            const discountPrice = document.getElementById('discountPrice').value;
            const style = document.getElementById('styleSelect').value;
            
            // è¡¨å•æ ¡éªŒ
            if (!productName) {
                alert('è¯·è¾“å…¥å•†å“åç§°');
                return;
            }
            
            if (!productSellingPoints) {
                alert('è¯·è¾“å…¥å•†å“å–ç‚¹');
                return;
            }
            
            if (uploadedImages.length === 0) {
                alert('è¯·ä¸Šä¼ è‡³å°‘1å¼ å›¾ç‰‡');
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            const generateBtn = document.getElementById('generateBtn');
            const generateBtnText = document.getElementById('generateBtnText');
            const loadingSpinner = document.getElementById('loadingSpinner');
            
            generateBtn.disabled = true;
            generateBtnText.textContent = 'ç”Ÿæˆä¸­...';
            loadingSpinner.classList.remove('hidden');
            
            // æ¨¡æ‹Ÿç”Ÿæˆè¿‡ç¨‹ï¼ˆ2ç§’å»¶è¿Ÿï¼‰
            setTimeout(() => {
                // ç”Ÿæˆä¸»å›¾é¢„è§ˆ
                generateImagePreviews(productName, productSellingPoints, originalPrice, discountPrice, style);
                
                // ç”Ÿæˆæ–‡æ¡ˆé¢„è§ˆ
                generateCopywritingPreviews(productName, productSellingPoints, originalPrice, discountPrice, style);
                
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                generateBtn.disabled = false;
                generateBtnText.textContent = 'ä¸€é”®ç”Ÿæˆç´ æ';
                loadingSpinner.classList.add('hidden');
            }, 2000);
        }

        // ç”Ÿæˆä¸»å›¾é¢„è§ˆ
        function generateImagePreviews(productName, sellingPoints, originalPrice, discountPrice, style) {
            const container = document.getElementById('imagePreviewContainer').querySelector('.flex');
            container.innerHTML = '';
            
            // ç”Ÿæˆ3å¼ æ¨¡æ‹Ÿä¸»å›¾
            for (let i = 0; i < 3; i++) {
                const imgWrapper = document.createElement('div');
                imgWrapper.className = 'relative watermark cursor-pointer transition-all duration-300 hover:scale-[1.03] hover:shadow-lg';
                imgWrapper.onclick = function() {
                    openModal(uploadedImages[i % uploadedImages.length]);
                };
                
                const imgContainer = document.createElement('div');
                imgContainer.className = 'w-[320px] h-[320px] bg-white rounded-xl overflow-hidden shadow-soft flex flex-col border border-gray-100';
                
                // å›¾ç‰‡éƒ¨åˆ†
                const imgDiv = document.createElement('div');
                imgDiv.className = 'h-[70%] bg-gray-50 relative';
                
                const img = document.createElement('img');
                img.src = uploadedImages[i % uploadedImages.length];
                img.className = 'w-full h-full object-cover';
                
                imgDiv.appendChild(img);
                
                // æ–‡å­—éƒ¨åˆ†
                const textDiv = document.createElement('div');
                textDiv.className = 'h-[30%] p-4 flex flex-col justify-between';
                
                const nameDiv = document.createElement('div');
                nameDiv.className = 'text-sm font-medium line-clamp-2 text-gray-800';
                nameDiv.textContent = productName;
                
                const priceDiv = document.createElement('div');
                priceDiv.className = 'flex items-center gap-2';
                
                if (discountPrice) {
                    const discountSpan = document.createElement('span');
                    discountSpan.className = 'text-danger font-bold text-lg';
                    discountSpan.textContent = `Â¥${discountPrice}`;
                    priceDiv.appendChild(discountSpan);
                }
                
                if (originalPrice) {
                    const originalSpan = document.createElement('span');
                    originalSpan.className = 'text-gray-400 text-sm line-through';
                    originalSpan.textContent = `Â¥${originalPrice}`;
                    priceDiv.appendChild(originalSpan);
                }
                
                textDiv.appendChild(nameDiv);
                textDiv.appendChild(priceDiv);
                
                imgContainer.appendChild(imgDiv);
                imgContainer.appendChild(textDiv);
                imgWrapper.appendChild(imgContainer);
                container.appendChild(imgWrapper);
            }
        }

        // ç”Ÿæˆæ–‡æ¡ˆé¢„è§ˆ
        function generateCopywritingPreviews(productName, sellingPoints, originalPrice, discountPrice, style) {
            const container = document.getElementById('copywritingPreview');
            container.innerHTML = '';
            
            // æ ¹æ®é€‰æ‹©çš„é£æ ¼ç”Ÿæˆä¸åŒçš„æ–‡æ¡ˆæ¨¡æ¿
            const styleTemplates = {
                simple: {
                    title: `${productName} - å“è´¨ä¹‹é€‰`,
                    content: `ç²¾é€‰ä¼˜è´¨ææ–™ï¼ŒåŒ å¿ƒæ‰“é€ ${productName}ã€‚\n\n${sellingPoints.split(',').map(point => `- ${point.trim()}`).join('\n')}\n\n${discountPrice ? `é™æ—¶ä¼˜æƒ ï¼šÂ¥${discountPrice}` : ''}${originalPrice && discountPrice ? `ï¼ˆåŸä»·ï¼šÂ¥${originalPrice}ï¼‰` : ''}`
                },
                promotion: {
                    title: `ã€é™æ—¶ç‰¹æƒ ã€‘${productName}`,
                    content: `ğŸ”¥ é™æ—¶å¤§ä¿ƒ ğŸ”¥\n${productName}éœ‡æ’¼æ¥è¢­ï¼\n\n${sellingPoints.split(',').map(point => `âœ… ${point.trim()}`).join('\n')}\n\n${discountPrice ? `ğŸ’¥ é™æ—¶ä»·ï¼šÂ¥${discountPrice}` : ''}${originalPrice && discountPrice ? `ï¼ˆåŸä»·ï¼šÂ¥${originalPrice}ï¼Œç«‹çœÂ¥${(originalPrice - discountPrice).toFixed(2)}ï¼‰` : ''}\n\nâ° æ•°é‡æœ‰é™ï¼Œå…ˆåˆ°å…ˆå¾—ï¼`
                },
                artistic: {
                    title: `${productName} - ç”Ÿæ´»ç¾å­¦`,
                    content: `å‘ç°ç”Ÿæ´»ä¸­çš„å°ç¡®å¹¸ï¼Œä»${productName}å¼€å§‹ã€‚\n\n${sellingPoints.split(',').map(point => `â€¢ ${point.trim()}`).join('\n')}\n\n${discountPrice ? `ä¼˜æƒ ä»·ï¼šÂ¥${discountPrice}` : ''}${originalPrice && discountPrice ? `ï¼ˆåŸä»·ï¼šÂ¥${originalPrice}ï¼‰` : ''}\n\nè®©ç¾å¥½è§¦æ‰‹å¯åŠã€‚`
                },
                tech: {
                    title: `${productName} - ç§‘æŠ€æ–°ä½“éªŒ`,
                    content: `å‰æ²¿ç§‘æŠ€ï¼Œå…¨æ–°ä½“éªŒ\n${productName}ä¸ºæ‚¨å¸¦æ¥ä¸ä¸€æ ·çš„ä½¿ç”¨æ„Ÿå—ã€‚\n\n${sellingPoints.split(',').map(point => `âš¡ ${point.trim()}`).join('\n')}\n\n${discountPrice ? `ç§‘æŠ€ä»·ï¼šÂ¥${discountPrice}` : ''}${originalPrice && discountPrice ? `ï¼ˆåŸä»·ï¼šÂ¥${originalPrice}ï¼‰` : ''}\n\nå¼•é¢†ç§‘æŠ€æ½®æµï¼Œä»è¿™é‡Œå¼€å§‹ã€‚`
                }
            };
            
            // ç”Ÿæˆ3ç‰ˆä¸åŒé£æ ¼çš„æ–‡æ¡ˆ
            const styles = ['simple', 'promotion', 'artistic'];
            styles.forEach((templateStyle, index) => {
                const template = styleTemplates[templateStyle];
                
                const copywritingDiv = document.createElement('div');
                copywritingDiv.className = 'bg-gray-50 rounded-xl p-5 shadow-soft border border-gray-100 transition-all duration-300 hover:shadow-md animate-fade-in';
                copywritingDiv.style.animationDelay = `${index * 0.1}s`;
                
                const styleLabel = document.createElement('div');
                styleLabel.className = 'text-xs font-semibold text-gray-500 mb-3 uppercase tracking-wider';
                styleLabel.textContent = getStyleName(templateStyle);
                
                const titleInput = document.createElement('input');
                titleInput.type = 'text';
                titleInput.className = 'w-full text-xl font-semibold mb-4 p-3 border border-gray-200 rounded-lg input-focus bg-white';
                titleInput.value = template.title;
                
                const contentTextarea = document.createElement('textarea');
                contentTextarea.rows = 7;
                contentTextarea.className = 'w-full p-3 border border-gray-200 rounded-lg input-focus bg-white mb-4';
                contentTextarea.value = template.content;
                
                const copyBtn = document.createElement('button');
                copyBtn.type = 'button';
                copyBtn.className = 'bg-primary/10 hover:bg-primary/20 text-primary text-sm font-medium py-2 px-5 rounded-lg transition-all duration-300 btn-hover flex items-center gap-2';
                copyBtn.innerHTML = '<i class="fa fa-copy"></i> å¤åˆ¶æ–‡æ¡ˆ';
                copyBtn.onclick = function() {
                    const fullCopywriting = `${titleInput.value}\n\n${contentTextarea.value}`;
                    copyToClipboard(fullCopywriting);
                };
                
                copywritingDiv.appendChild(styleLabel);
                copywritingDiv.appendChild(titleInput);
                copywritingDiv.appendChild(contentTextarea);
                copywritingDiv.appendChild(copyBtn);
                container.appendChild(copywritingDiv);
            });
        }

        // è·å–é£æ ¼åç§°
        function getStyleName(style) {
            const styleNames = {
                simple: 'ç®€çº¦é£',
                promotion: 'ä¿ƒé”€é£',
                artistic: 'æ–‡è‰ºé£',
                tech: 'ç§‘æŠ€é£'
            };
            return styleNames[style] || style;
        }

        // å¤åˆ¶åˆ°å‰ªè´´æ¿
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º
                const alert = document.getElementById('copySuccessAlert');
                alert.classList.remove('hidden');
                setTimeout(() => {
                    alert.classList.add('hidden');
                }, 2000);
            }).catch(function(err) {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
            });
        }

        // æ¸…ç©ºè¡¨å•
        function clearForm() {
            document.getElementById('productForm').reset();
            uploadedImages = [];
            updateImagePreviews();
            
            // é‡ç½®é¢„è§ˆåŒº
            const imagePreviewContainer = document.getElementById('imagePreviewContainer').querySelector('.flex');
            imagePreviewContainer.innerHTML = `
                <div class="text-center text-gray-500 py-12">
                    <i class="fa fa-picture-o text-4xl mb-2"></i>
                    <p>ç‚¹å‡»"ä¸€é”®ç”Ÿæˆç´ æ"æŸ¥çœ‹é¢„è§ˆ</p>
                </div>
            `;
            
            const copywritingPreview = document.getElementById('copywritingPreview');
            copywritingPreview.innerHTML = `
                <div class="text-center text-gray-500 py-12">
                    <i class="fa fa-file-text-o text-4xl mb-2"></i>
                    <p>ç‚¹å‡»"ä¸€é”®ç”Ÿæˆç´ æ"æŸ¥çœ‹é¢„è§ˆ</p>
                </div>
            `;
        }

        // æ‰“å¼€å›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡†
        function openModal(imageSrc) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            modalImage.src = imageSrc;
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // å…³é—­å›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡†
        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.add('hidden');
            document.body.style.overflow = '';
        }
    </script>
</body>
</html>